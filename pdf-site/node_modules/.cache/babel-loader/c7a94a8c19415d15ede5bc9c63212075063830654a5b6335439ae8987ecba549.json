{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\loli\\\\PDFrefrechn\\\\pdf-site\\\\src\\\\main\\\\main.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport * as pdfjs from 'pdfjs-dist/build/pdf';\nimport 'pdfjs-dist/build/pdf.worker'; // Import the PDF.js worker\n\nimport './main.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Main() {\n  _s();\n  const [pdfFile, setPdfFile] = useState(null);\n  useEffect(() => {\n    // Set the worker source when the component mounts\n    pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/build/pdf.worker.min.js`;\n  }, []);\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setPdfFile(file);\n      displayPdf(file);\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    const file = e.dataTransfer.files[0];\n    if (file) {\n      setPdfFile(file);\n      displayPdf(file);\n    }\n  };\n  const displayPdf = file => {\n    const reader = new FileReader();\n    reader.onload = function () {\n      const typedarray = new Uint8Array(this.result);\n      pdfjs.getDocument(typedarray).promise.then(pdfDocument => {\n        pdfDocument.getPage(1).then(pdfPage => {\n          const scale = 1.5;\n          const viewport = pdfPage.getViewport({\n            scale\n          });\n          const canvas = document.createElement('canvas');\n          const context = canvas.getContext('2d');\n          canvas.height = viewport.height;\n          canvas.width = viewport.width;\n          const pdfViewer = document.getElementById('pdf-viewer');\n          pdfViewer.innerHTML = '';\n          pdfViewer.appendChild(canvas);\n          const renderContext = {\n            canvasContext: context,\n            viewport: viewport\n          };\n          pdfPage.render(renderContext);\n        });\n      });\n    };\n    reader.readAsArrayBuffer(file);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"drop-area\",\n      onDrop: handleDrop,\n      onDragOver: e => e.preventDefault(),\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041F\\u0435\\u0440\\u0435\\u0442\\u0430\\u0449\\u0438\\u0442\\u0435 \\u0441\\u044E\\u0434\\u0430 \\u0444\\u0430\\u0439\\u043B PDF \\u0438\\u043B\\u0438 \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0434\\u043B\\u044F \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".pdf\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"divider-line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"pdf-viewer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"myModal\",\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u042D\\u0442\\u043E \\u043C\\u043E\\u0434\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043E\\u043A\\u043D\\u043E!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n_s(Main, \"8rsJ3z2zm2z1VE8iqeeAPpTxZG0=\");\n_c = Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","pdfjs","jsxDEV","_jsxDEV","Main","_s","pdfFile","setPdfFile","GlobalWorkerOptions","workerSrc","version","handleFileChange","e","file","target","files","displayPdf","handleDrop","preventDefault","dataTransfer","reader","FileReader","onload","typedarray","Uint8Array","result","getDocument","promise","then","pdfDocument","getPage","pdfPage","scale","viewport","getViewport","canvas","document","createElement","context","getContext","height","width","pdfViewer","getElementById","innerHTML","appendChild","renderContext","canvasContext","render","readAsArrayBuffer","children","id","onDrop","onDragOver","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","className","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/loli/PDFrefrechn/pdf-site/src/main/main.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport * as pdfjs from 'pdfjs-dist/build/pdf';\r\nimport 'pdfjs-dist/build/pdf.worker'; // Import the PDF.js worker\r\n\r\nimport './main.css';\r\n\r\nexport default function Main() {\r\n    const [pdfFile, setPdfFile] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Set the worker source when the component mounts\r\n        pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/build/pdf.worker.min.js`;\r\n    }, []);\r\n\r\n    const handleFileChange = (e) => {\r\n        const file = e.target.files[0];\r\n\r\n        if (file) {\r\n            setPdfFile(file);\r\n            displayPdf(file);\r\n        }\r\n    };\r\n\r\n    const handleDrop = (e) => {\r\n        e.preventDefault();\r\n        const file = e.dataTransfer.files[0];\r\n\r\n        if (file) {\r\n            setPdfFile(file);\r\n            displayPdf(file);\r\n        }\r\n    };\r\n\r\n    const displayPdf = (file) => {\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = function () {\r\n            const typedarray = new Uint8Array(this.result);\r\n\r\n            pdfjs.getDocument(typedarray).promise.then((pdfDocument) => {\r\n                pdfDocument.getPage(1).then((pdfPage) => {\r\n                    const scale = 1.5;\r\n                    const viewport = pdfPage.getViewport({ scale });\r\n\r\n                    const canvas = document.createElement('canvas');\r\n                    const context = canvas.getContext('2d');\r\n                    canvas.height = viewport.height;\r\n                    canvas.width = viewport.width;\r\n\r\n                    const pdfViewer = document.getElementById('pdf-viewer');\r\n                    pdfViewer.innerHTML = '';\r\n                    pdfViewer.appendChild(canvas);\r\n\r\n                    const renderContext = {\r\n                        canvasContext: context,\r\n                        viewport: viewport,\r\n                    };\r\n\r\n                    pdfPage.render(renderContext);\r\n                });\r\n            });\r\n        };\r\n\r\n        reader.readAsArrayBuffer(file);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div\r\n                id=\"drop-area\"\r\n                onDrop={handleDrop}\r\n                onDragOver={(e) => e.preventDefault()}\r\n            >\r\n                <p>Перетащите сюда файл PDF или нажмите для загрузки.</p>\r\n                <input\r\n                    type=\"file\"\r\n                    accept=\".pdf\"\r\n                    onChange={handleFileChange}\r\n                />\r\n                <div id=\"divider-line\"></div>\r\n            </div>\r\n            <div id=\"pdf-viewer\"></div>\r\n            <div id=\"myModal\" className=\"modal\">\r\n                <div className=\"modal-content\">\r\n                    <span className=\"close\">&times;</span>\r\n                    <p>Это модальное окно!</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}